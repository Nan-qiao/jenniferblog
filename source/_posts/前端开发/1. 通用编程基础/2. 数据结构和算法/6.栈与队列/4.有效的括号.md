---
title: 4.有效的括号
date: 2023-03-10 15:53:00
tags: 
    - 数据结构和算法 
    - 栈与队列
categories: 
    - 前端开发
    - (一)编程基础
    - 2.数据结构和算法
    - (6)栈与队列
cover: https://pic.imgdb.cn/item/640c72e1f144a010075e6900.png
---
## 有效的括号

### 题目

[力扣题目链接](https://leetcode.cn/problems/valid-parentheses/)

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。

有效字符串需满足：

* 左括号必须用相同类型的右括号闭合。
* 左括号必须以正确的顺序闭合。
* 注意空字符串可被认为是有效字符串。

示例 1:

* 输入: "()"  
* 输出: true     

示例 2:

* 输入: "()[]{}"    
* 输出: true     

示例 3:

* 输入: "(]"   
* 输出: false    

示例 4:

* 输入: "([)]"   
* 输出: false 

示例 5:

* 输入: "{[]}"
* 输出: true

### 思路
由于栈结构的特殊性，非常适合做对称匹配类的题目。

首先要弄清楚，字符串里的括号不匹配有几种情况。

**一些同学，在面试中看到这种题目上来就开始写代码，然后就越写越乱。**

建议在写代码之前要分析好有哪几种不匹配的情况，如果不在动手之前分析好，写出的代码也会有很多问题。

先来分析一下 这里有三种不匹配的情况，

1. 第一种情况，字符串里左方向的括号多余了 ，所以不匹配。
   ![括号匹配1](https://img-blog.csdnimg.cn/2020080915505387.png)

2. 第二种情况，括号没有多余，但是 括号的类型没有匹配上。
   ![括号匹配2](https://img-blog.csdnimg.cn/20200809155107397.png)

3. 第三种情况，字符串里右方向的括号多余了，所以不匹配。
   ![括号匹配3](https://img-blog.csdnimg.cn/20200809155115779.png)

我们的代码只要覆盖了这三种不匹配的情况，就不会出问题，可以看出 动手之前分析好题目的重要性。

动画如下：

![20.有效括号](https://code-thinking.cdn.bcebos.com/gifs/20.有效括号.gif)


第一种情况：已经遍历完了字符串，但是栈不为空，说明有相应的左括号没有右括号来匹配，所以return false

第二种情况：遍历字符串匹配的过程中，发现栈里没有要匹配的字符。所以return false

第三种情况：遍历字符串匹配的过程中，栈已经为空了，没有匹配的字符了，说明右括号没有找到对应的左括号return false

那么什么时候说明左括号和右括号全都匹配了呢，就是字符串遍历完之后，栈是空的，就说明全都匹配了。

分析完之后，代码其实就比较好写了，

但还有一些技巧，在匹配左括号的时候，右括号先入栈，就只需要比较当前元素和栈顶相不相等就可以了，比左括号先入栈代码实现要简单的多了！

### 代码

```js
var isValids = function(s){
    const stack = [];
    const map = {
        "(":")",
        "[":"]",
        "{":"}"
    }
    for(const x of s){
        if(x in map){
            satck.push(x)
            continue;
        }
        if(map(stack.pop())!== x) return false
    }
    return !stack.length
}
```

